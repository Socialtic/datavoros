# Mujeres Segura

## Fecha de an√°lisis

- **An√°lisis est√°tico (mediante Exodus Privacy):** 12 abril 2022   
- **An√°lisis din√°mico (mediante an√°lisis de tr√°fico de red):** 18 abril 2022   
- **An√°lisis Posteriores:** 19 abril 2022 / 9 agosto 2022   

## Archivos analizados

[apk versi√≥n 2.0.0](http://cloud.datavoros.org/index.php/s/YWFZR9jsEHyHZe8)   
[pcap versi√≥n 2.0.0](http://cloud.datavoros.org/index.php/s/k3G8zmCrJboMeDk)

[apk versi√≥n 2.0.3](http://cloud.datavoros.org/index.php/s/78KmCZP7d9LjZqz)   
[pcap versi√≥n 2.0.3](http://cloud.datavoros.org/index.php/s/fxtEat2xCDWYQnx)   


## Descripci√≥n de la aplicaci√≥n

- **Tipo:** Aplicaci√≥n de emergencia para mujeres del estado de Sonora   
- **Costo:** Gratuito   
- **Link:** [https://play.google.com/store/apps/details?id=mx.gob.segobsonora.mujersegura](https://play.google.com/store/apps/details?id=mx.gob.segobsonora.mujersegura)   
- **Descargas:** 50,000+
- **Fecha de actualizaci√≥n:** 7 Enero 2022 / 13 jun 2022  
- **Versi√≥n:** 2.0.0  / 2.0.3
**Desarrollador:** [https://mujeresseguras.sonora.gob.mx/](https://mujeresseguras.sonora.gob.mx/)    
- **Firma:** Android, Google Inc.   
- **Contacto:** sistema.estatal@sspsonora.gob.mx  
- **Condiciones de uso y Pol√≠tica de privacidad:**
  - [https://www.sonora.gob.mx/politica-de-uso.html](https://www.sonora.gob.mx/politica-de-uso.html)

- **Descripci√≥n en playstore:**   
~~~
Aplicaci√≥n m√≥vil para las mujeres con el objetivo de erradicar la violencia de g√©nero, que contiene
bot√≥n de ayuda en caso de encontrarse en riesgo dentro del Estado de Sonora.
Est√° conectada directamente al Centro de Control, Comando, Comunicaci√≥n, C√≥mputo, Coordinaci√≥n
e Inteligencia C5i enviando ubicaci√≥n georreferenciada as√≠ como n√∫mero telef√≥nico en la cual las
autoridades acudir√°n de forma inmediata en auxilio. De igual manera, se notificar√° a la red de
confianza.

Ademas cuenta con el servicio de datos patrocinados que te permitir√° utilizar el bot√≥n de alerta
aunque no cuentes con datos m√≥viles.
~~~  

## Trackers identificados (mediante Exodus Privacy)  

- [Google Firebase Analytics](https://firebase.google.com/)  

Enlace al [reporte](https://reports.exodus-privacy.eu.org/es/reports/mx.gob.segobsonora.mujersegura/latest/).   

## Empresas relacionadas con esta aplicaci√≥n

- [Alphabet](https://abc.xyz/) a trav√©s de Google (Trackers y servicio de ubicaci√≥n)
- [Total Play Telecomunicaciones](https://www.totalplay.com.mx/) (Servidor donde est√° almacenada la aplicaci√≥n)

## Permisos   

- **Seg√∫n la Playstore:** 17 permisos.
- **Seg√∫n Exodus Privacy:** 23 permisos.
- **Seg√∫n prueba de uso:** 3 permisos que se piden de manera expl√≠cita.   


### Permisos seg√∫n la PlayStore

Esta aplicaci√≥n puede acceder a:   

- ![imagen](https://user-images.githubusercontent.com/102829552/165633281-fdb9f280-7a44-4700-a6d0-d922770cc9ba.png)Identidad   
    - Buscar cuentas en el dispositivo




- ![imagen](https://user-images.githubusercontent.com/102829552/165633301-50dd7758-728f-4712-87bb-929a38c8878f.png)
Contactos

    - Buscar cuentas en el dispositivo
    - Consultar tus contactos
    - Modificar tus contactos


- ![imagen](https://user-images.githubusercontent.com/102829552/165633333-513671d5-e242-4806-8304-35398e0a543e.png)
Ubicaci√≥n

    - Ubicaci√≥n aproximada (basada en red)
    - Ubicaci√≥n precisa (basada en red y GPS)
    - Acceder a comandos de proveedor de ubicaci√≥n adicional


- ![imagen](https://user-images.githubusercontent.com/102829552/165633354-61cfec0d-eed0-4743-a3ce-77d6b6f607b2.png)
Tel√©fono

    - Llamar directamente a n√∫meros de tel√©fono
    - Consultar la identidad y el estado del tel√©fono


- ![imagen](https://user-images.githubusercontent.com/102829552/165633372-0f9e0633-a7b7-4cc6-a351-f5bb296edaa1.png)
Fotos/multimedia/archivos

    - Leer el contenido de tu almacenamiento USB
    - Modificar o eliminar contenido del almacenamiento USB


- ![imagen](https://user-images.githubusercontent.com/102829552/165633400-30b453d5-c2d3-4636-b3b4-0d58ed16d4a9.png)
Almacenamiento

    - Leer el contenido de tu almacenamiento USB
    - Modificar o eliminar contenido del almacenamiento USB


- ![imagen](https://user-images.githubusercontent.com/102829552/165633428-a7974ac0-35bc-4a9a-af33-51105c19fb06.png)
ID de dispositivo e informaci√≥n de llamada

    - Consultar la identidad y el estado del tel√©fono


- ‚ùîOtro motivo

    - Recibir datos de Internet
    - Ver conexiones de red
    - Crear cuentas y establecer contrase√±as
    - Emparejar con dispositivos Bluetooth
    - Acceso completo a red
    - Leer la configuraci√≥n de sincronizaci√≥n
    - Ejecutarse al inicio
    - Controlar la vibraci√≥n
    - Impedir que el dispositivo entre en modo de suspensi√≥n
    - Activar y desactivar la sincronizaci√≥n

### Permisos seg√∫n Exodus Privacy

- ![imagen](https://user-images.githubusercontent.com/102829552/165633656-c65474f6-4bc8-45de-bd8a-aa85ac4ab565.png):exclamation:
ACCESS_COARSE_LOCATION   
_Access approximate location (network-based)_

- ![imagen](https://user-images.githubusercontent.com/102829552/165633681-1d06ca0d-a081-443e-b769-187ffa4731da.png):exclamation:
ACCESS_FINE_LOCATION   
_Access precise location (GPS and network-based)_

- ACCESS_LOCATION_EXTRA_COMMANDS   
_Access extra location provider commands_

- ACCESS_NETWORK_STATE   
_View network connections_

- AUTHENTICATE_ACCOUNTS   

- BLUETOOTH   
_Pair with Bluetooth devices_

- ![imagen](https://user-images.githubusercontent.com/102829552/165633739-d74113a2-5434-498a-8ca8-91f409cb4a58.png):exclamation:
CALL_PHONE   
_Directly call phone numbers_

- FOREGROUND_SERVICE   
_Run foreground service_

- ![imagen](https://user-images.githubusercontent.com/102829552/165633939-72746e16-3712-49db-98e9-1361b3c8e5c2.png):exclamation:
GET_ACCOUNTS   
_Find accounts on the device_

- INTERNET   
_Have full network access_

- ![imagen](https://user-images.githubusercontent.com/102829552/165633822-fbbd5595-eba4-4986-86d5-22dde56764b3.png):exclamation:
READ_CONTACTS   
_Read your contacts_

- ![imagen](https://user-images.githubusercontent.com/102829552/165633992-4c5297ab-5c94-4211-8b6d-65c206db98e8.png):exclamation: READ_EXTERNAL_STORAGE
_Read the contents of your shared storage_ **(Permiso nuevo)**

- ![imagen](https://user-images.githubusercontent.com/102829552/165633781-f21454fe-b443-4474-9e7b-2d0f2f4cbdd5.png):exclamation:
READ_PHONE_STATE   
_Read phone status and identity_

- READ_SYNC_SETTINGS   
_Read sync settings_

- RECEIVE_BOOT_COMPLETED   
_Run at startup_

- VIBRATE   
_Control vibration_

- WAKE_LOCK   
_Prevent phone from sleeping_

- ![imagen](https://user-images.githubusercontent.com/102829552/165633878-4a01b325-f407-4b2e-a5ad-24a825596f5c.png):exclamation:
WRITE_CONTACTS   
_Modify your contacts_

- ![imagen](https://user-images.githubusercontent.com/102829552/165633992-4c5297ab-5c94-4211-8b6d-65c206db98e8.png):exclamation:
WRITE_EXTERNAL_STORAGE   
_Modify or delete the contents of your SD card_

- WRITE_SYNC_SETTINGS    
_Toggle sync on and off_

- RECEIVE   

- BIND_GET_INSTALL_REFERRER_SERVICE   

- ACTIVITY_RECOGNITION   

El icono :exclamation: indica un nivel 'Peligroso' o 'Especial' de acuerdo a los [niveles de protecci√≥n de Google](https://developer.android.com/guide/topics/permissions/overview).    


### Permisos solicitados al usuario durante el uso de la aplicaci√≥n

- üîµ Acceso a Llamadas telef√≥nicas
- üî¥ Acceso a Ubicaci√≥n
- üîµ Acceso a contactos  

üî¥ Este √≠cono indica un permiso obligatorio   
üîµ Este √≠cono indica un permiso opcional pero se pierde una funcionalidad particular


## Datos

### Datos solicitados al usuario durante el uso de la aplicaci√≥n

- üî¥ Nombre
- üî¥ Apellido Paterno
- ‚ö™ Apellido Materno
- üî¥ N√∫mero de tel√©fono
- ‚ö™ Fecha de nacimiento
- ‚ö™ G√©nero
- ‚ö™ Discapacidad
- ‚ö™ Ind√≠gena o perteneciente a una etnia
- ‚ö™ Correo Electr√≥nico   

üî¥ Este √≠cono indica que se debe ingresar este dato de manera obligatoria.   
‚ö™ Este √≠cono indica que estos datos son opcionales.


### Tabla de conexiones realizadas durante el uso de la aplicaci√≥n

| Direcci√≥n IP    | N√∫mero de paquetes | Pa√≠s          | Ciudad  | N√∫mero AS | Organizaci√≥n AS                        |
|-----------------|--------------------|---------------|---------|-----------|----------------------------------------|
| 142.250.68.10   |                 28 | United States |         |     15169 | GOOGLE                                 |
| 142.250.68.42   |                126 | United States |         |     15169 | GOOGLE                                 |
| 142.250.68.74   |                282 | United States |         |     15169 | GOOGLE                                 |
| 142.250.68.106  |                 49 | United States |         |     15169 | GOOGLE                                 |
| 142.250.72.170  |                 24 | United States |         |     15169 | GOOGLE                                 |
| 142.250.72.174  |                 29 | United States |         |     15169 | GOOGLE                                 |
| 142.250.217.138 |                 29 | United States |         |     15169 | GOOGLE                                 |
| 142.251.40.35   |                  5 | United States |         |     15169 | GOOGLE                                 |
| 142.251.40.46   |                 27 | United States |         |     15169 | GOOGLE                                 |
| 187.189.158.27  |                136 | M√©xico        | Navojoa |     22884 | TOTAL PLAY TELECOMUNICACIONES SA DE CV |

### ![Mapa de conexiones](./mapa_version_200.png)

_Pendiente_

### Notas sobre datos recolectados

- La aplicaci√≥n contacta a los servidores de google por dos razones: los mapas y la geolocalizaci√≥n y por el tracker de Firebase. Este √∫ltimo asigna, a trav√©s de otro tracker, [firebaseinstallations](https://firebase.google.com/docs/reference/android/com/google/firebase/installations/FirebaseInstallations), una id particular a la instalaci√≥n de la app. De ah√≠ recolecta, a trav√©s de app-measurement.com toda una serie de eventos realizados en la aplicaci√≥n. Aqu√≠ los enlaces a todos los eventos y datos que, de manera est√°ndar se recolectan [1](https://support.google.com/firebase/answer/9234069?hl=en&ref_topic=6317484&visit_id=637859685880636053-1936242821&rd=1), [2](https://support.google.com/firebase/answer/9268042?hl=en&ref_topic=6317484&visit_id=637859685880636053-1936242821&rd=1), [3](https://support.google.com/firebase/answer/7029846?hl=en&ref_topic=7029512).
- El servidor perteneciente a Total Play es el host de la aplicaci√≥n: servicios.sspsonora.gob.mx. Todas las comunicaciones est√°n cifradas y es en este servidor donde se procesan las alertas de p√°nico. Estas son enviadas en formato JSON y cuentan con ID de alerta, un n√∫mero de folio y la ubicaci√≥n.
- En este servidor tambi√©n se guardan los contactos de emergencia en formato JSON: id de contacto, nombre y tel√©fono.
- En este servidor se guarda la informaci√≥n de contacto que proporciona el usuario.

### Seguridad de datos de la Playstore

**Datos compartidos:** 
- Ubicaci√≥n precisa
- Contactos

**Datos recogidos:**
- El desarrollador indica que esta aplicaci√≥n no recoge datos de usuario

**Pr√°cticas de seguridad:**
- Los datos se cifran en tr√°nsito
- Los datos no se pueden eliminar

## Tabla de relaci√≥n entre permisos y funciones

| Permisos  | Funci√≥n relacionada  |
|---|---|
| ACCESS_COARSE_LOCATION  | Servicio de ubicaci√≥n  |
| ACCESS_FINE_LOCATION  | Servicio de ubicaci√≥n  |
| ACCESS_LOCATION_EXTRA_COMMANDS  | No sabemos para qu√© se usa  |
| ACCESS_NETWORK_STATE  | Internet  |
| AUTHENTICATE_ACCOUNTS  | No sabemos para qu√© se usa  |
| CALL_PHONE  | Llamadas a los centros del ISM  |
| FOREGROUND_SERVICE  | Bot√≥n de p√°nico   |
| GET_ACCOUNTS  | No sabemos para qu√© sirve  |
| INTERNET  |Internet   |
| READ_CONTACTS  | Agregar contactos a la red de emergencia   |
| READ_PHONE_STATE  | Llamadas a los centros del ISM   |
| READ_SYNC_SETTINGS  | Suponemos que esto permite que los contactos de emergencia siempre est√©n sincronizados, pero es s√≥lo una suposici√≥n  |
| RECEIVE_BOOT_COMPLETED  | No sabemos para qu√© se usa   |
| VIBRATE  |Bot√≥n de p√°nico   |
| WAKE_LOCK  | Bot√≥n de p√°nico   |
| WRITE_CONTACTS  |No sabemos para qu√© se usa   |
| WRITE_EXTERNAL_STORAGE  | No sabemos para qu√© se usa  |
| WRITE_SYNC_SETTINGS  | No sabemos para qu√© se usa  |
| RECEIVE  | Push Notifications  |
| BIND_GET_INSTALL_REFERRER_SERVICE  |  Firebase tracker  |
| ACTIVITY_RECOGNITION  |No sabemos para qu√© se usa   |

###  Funciones espec√≠ficas de la aplicaci√≥n

- Tiene la funci√≥n de datos patrocinados (si la persona no tiene datos, aun as√≠ puede hacer uso de la app). No est√° comprobado.
- Cuenta con contactos de red de confianza. Pueden ser agregados de manera manual o accediendo a la libreta de contactos de la cuenta de Google. Adem√°s estos contactos deben tener la app instalada. No est√° comprobado.
- Tiene una funci√≥n de Falsa Alarma.
- Es opcional, pero se puede realizar una encuesta de violencia de pareja a la cual otorgan un resultado y una recomendaci√≥n.
- Acceso al directorio de centros ISM (Instituto Sonorense de la Mujer).
- Acceso a un violent√≥metro.


## Notas

- La app est√° firmada por Google.


## Conclusiones

- En cuanto a los permisos que solicita la app, son muchos y no encontramos ninguna relaci√≥n sim√©trica con las funciones que tiene la aplicaci√≥n. _Access_location_extra_commands_ permite modificar y manipular el _gps_. El permiso de _authenticate_accounts_ permite, por ejemplo, crear cuentas en el dispositivo y ponerles passwords. Tampoco entendemos para qu√© sirve el permiso _get_accounts_ que permite identificar las diferentes cuentas del dispositivo. Creemos que no es necesario el permiso _write_contacts_ que permite modificar los datos de los contactos. Y tenemos casos similares con _read_sync_settings_, _receive_boot_complete_ (sirve para iniciar la app de manera autom√°tica cuando se reinicia el dispositivo), _write_external_storage_, _write_sync_settings_, y _activity_recognition_ (permite acceder a los sensores del dispositivo cuando los haya). No sabemos c√≥mo funciona y si sirven los datos patrocinados, pero suponemos que tal vez alguno de estos permisos tenga que ver con ello, a√∫n as√≠, nos parece que esta app solicita permisos raros (por no estar presentes en las otras apps de bot√≥n de p√°nico) y excesivos.
- En cuanto a datos, nos preocupa el hecho de que perfile personas en t√©rminos de si son ind√≠genas o pertenecientes a alguna etnia. Este dato podr√≠a ser de ayuda y al mismo tiempo un dato particularmente peligroso.
- No tiene fallas de seguridad flagrantes ni parece haber un uso excesivo de trackers (si bien podr√≠a, en el mejor de los casos, no haber ninguno).


## Adenda de actualizaci√≥n versi√≥n 2.0.3
- La nueva versi√≥n 2.0.3 tiene cambios m√≠nimos en la interfaz. 
- Agrega la etiqueta de opcional a los datos personales que puede proporcionar el usuario. 
- Seg√∫n el log de cambios en la Playstore s√≥lo se corrigieron errores menores. Debido a esto no realizamos un nuevo an√°lisis. - Agregamos la secci√≥n sobre "Seguridad de datos" de la Playstore a este reporte.
- Se agreg√≥ el permiso READ_EXTERNAL_STORAGE. No sabemos para qu√© lo usa la aplicaci√≥n. 